<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <title>Form Đăng Ký Môn Học</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <script src="../js/jquery-3.7.1.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/bootstrap.js"></script>
    <script>
        const hoTenInput = document.getElementById('hoTen');
        const btnDangKy = document.getElementById('btnDangKy');
        const loiTen = document.getElementById('loiTen');

        function kiemTraHoTen() {
            const hoTen = hoTenInput.value.trim();
            const regex = /^([A-Z][a-z]+)(\s[A-Z][a-z]+)+$/;
            if (hoTen === '') {
                loiTen.textContent = "Họ tên không được để trống";
                return false;
            } else if (!regex.test(hoTen)) {
                loiTen.textContent = "Mỗi từ phải viết hoa chữ cái đầu";
                return false;
            } else {
                loiTen.textContent = "";
                return true;
            }
        }

        hoTenInput.addEventListener('input', () => {
            if (kiemTraHoTen()) {
                btnDangKy.disabled = false;
            } else {
                btnDangKy.disabled = true;
            }
        });

        btnDangKy.addEventListener('click', () => {
            const hoTen = hoTenInput.value.trim();
            const lop = document.getElementById('lop').value;
            const monHoc = document.getElementById('monHoc').value;
            const loai = document.querySelector('input[name="loai"]:checked').value;

            const tbody = document.querySelector('#bangDangKy tbody');
            const newRow = tbody.insertRow();

            newRow.innerHTML = `
                <td>${hoTen}</td>
                <td>${lop}</td>
                <td>${monHoc}</td>
                <td>${loai}</td>
            `;

            // Xoá form
            hoTenInput.value = '';
            btnDangKy.disabled = true;
            hoTenInput.focus();
        });
    </script>
    <style>
        table,
        th,
        td {
            border: 1px solid black;
            border-collapse: collapse;
        }
        
        th,
        td {
            padding: 8px;
            text-align: center;
        }
        
        input[type="text"] {
            width: 200px;
        }
        
        select {
            width: 250px;
        }
        
        .error {
            color: red;
            font-size: 14px;
        }
        
        #btnDangKy:disabled {
            opacity: 0.5;
        }
    </style>
</head>

<body>
    <form id="formDangKy">
        <label>Họ tên: <input type="text" id="hoTen" autofocus></label>
        <span class="error" id="loiTen"></span>
        <br><br>
        <label>Lớp:
            <select id="lop">
                <option>Đại học Kỹ thuật phần mềm 9A</option>
                <option>Đại học Kỹ thuật phần mềm 9B</option>
            </select>
        </label>
        <br><br>
        <label>Môn học:
            <select id="monHoc">
                <option>Lập trình hướng đối tượng</option>
                <option>Cơ sở dữ liệu</option>
                <option>Thiết kế Web</option>
            </select>
        </label>
        <br><br>
        <label>Loại:
            <input type="radio" name="loai" value="Lý thuyết" checked> Lý thuyết
            <input type="radio" name="loai" value="Thực hành"> Thực hành
        </label>
        <br><br>
        <button type="button" id="btnDangKy" disabled>Đăng ký</button>
    </form>

    <br>
    <table id="bangDangKy">
        <thead>
            <tr>
                <th>Họ tên</th>
                <th>Lớp</th>
                <th>Môn học đăng ký</th>
                <th>Loại</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>


</body>

</html>